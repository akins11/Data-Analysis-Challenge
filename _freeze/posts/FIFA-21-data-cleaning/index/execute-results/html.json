{
  "hash": "3278a4f562424974ebb18abb5cfd7a9d",
  "result": {
    "markdown": "---\ntitle: \"FIFA 2021 Data Cleaning In R\"\nauthor: \"Ayomide Akinwande\"\ndate: \"2023-03-16\"\ncategories: [R, data cleaning]\n---\n\n\n![](data-cleaning-image.jpg)\n\nOne important step in data analysis that can not be overlooked is data cleaning, this ensure that the data is error free, complete, accurate and consistent by identifying and handling missing data, correcting or removing invalid and inconsistent records across the dataset. In doing this you will not only ensure that any insights or decisions made from the data are accurate and reliable, but also improve data storage by reducing the amount of unnecessary or redundant data, which can save storage space and improve processing times.  \n  \nIn this tutorial, we will be working with the FIFA-2021 data of different players around the world. This dataset contains information that can help us gain several insights about the demographics and attributes of professional football players However, like many other real-world datasets, it is messy and contains errors, inconsistencies, and missing data. Today we will clean and prepare the data for future analysis using several data cleaning techniques.\n\n\n\n### Libraries\nWe will be using the some of the core tidyverse packages such as readr, tidyr, dplyr and stringr, as well as some additional packages that will help us with specific data cleaning tasks. install the following package if you don't already have them.\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"tidyverse\")\ninstall.packages(\"janitor\")\ninstall.packages(\"gt\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(stringi)\nlibrary(janitor)\nlibrary(lubridate)\n\nlibrary(gt)\n```\n:::\n\n\n\n### Data Loading\nNext we will load in the FIFA-21 dataset. you can download the data following this [link](https://www.kaggle.com/datasets/yagunnersya/fifa-21-messy-raw-dataset-for-cleaning-exploring) and store it in a folder called data in your current working directory.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nraw_data <- read_csv(\"data/fifa21 raw data v2.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 18979 Columns: 77\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (23): Name, LongName, photoUrl, playerUrl, Nationality, Club, Contract, ...\ndbl (54): ID, Age, ↓OVA, POT, BOV, Attacking, Crossing, Finishing, Heading A...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nhead(raw_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 77\n      ID Name   LongN…¹ photo…² playe…³ Natio…⁴   Age `↓OVA`   POT Club  Contr…⁵\n   <dbl> <chr>  <chr>   <chr>   <chr>   <chr>   <dbl>  <dbl> <dbl> <chr> <chr>  \n1 158023 L. Me… Lionel… https:… http:/… Argent…    33     93    93 \"\\n\\… 2004 ~…\n2  20801 Crist… C. Ron… https:… http:/… Portug…    35     92    92 \"\\n\\… 2018 ~…\n3 200389 J. Ob… Jan Ob… https:… http:/… Sloven…    27     91    93 \"\\n\\… 2014 ~…\n4 192985 K. De… Kevin … https:… http:/… Belgium    29     91    91 \"\\n\\… 2015 ~…\n5 190871 Neyma… Neymar… https:… http:/… Brazil     28     91    91 \"\\n\\… 2017 ~…\n6 188545 R. Le… Robert… https:… http:/… Poland     31     91    91 \"\\n\\… 2014 ~…\n# … with 66 more variables: Positions <chr>, Height <chr>, Weight <chr>,\n#   `Preferred Foot` <chr>, BOV <dbl>, `Best Position` <chr>, Joined <chr>,\n#   `Loan Date End` <chr>, Value <chr>, Wage <chr>, `Release Clause` <chr>,\n#   Attacking <dbl>, Crossing <dbl>, Finishing <dbl>, `Heading Accuracy` <dbl>,\n#   `Short Passing` <dbl>, Volleys <dbl>, Skill <dbl>, Dribbling <dbl>,\n#   Curve <dbl>, `FK Accuracy` <dbl>, `Long Passing` <dbl>,\n#   `Ball Control` <dbl>, Movement <dbl>, Acceleration <dbl>, …\n```\n:::\n:::\n\n\n\n\n### Data Cleaning\n\n#### Name\nBefore we proceed further, some of the variable name contain spaces and different letter case which can be challenging when handling them through out the cleaning process, so i will transform the names by setting them to lower case and replace any space with an underscore '_' using the `clean_names()` function from the janitor package.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw <- clean_names(raw_data)\n\ncolnames(edit_raw)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"id\"               \"name\"             \"long_name\"        \"photo_url\"       \n [5] \"player_url\"       \"nationality\"      \"age\"              \"ova\"             \n [9] \"pot\"              \"club\"             \"contract\"         \"positions\"       \n[13] \"height\"           \"weight\"           \"preferred_foot\"   \"bov\"             \n[17] \"best_position\"    \"joined\"           \"loan_date_end\"    \"value\"           \n[21] \"wage\"             \"release_clause\"   \"attacking\"        \"crossing\"        \n[25] \"finishing\"        \"heading_accuracy\" \"short_passing\"    \"volleys\"         \n[29] \"skill\"            \"dribbling\"        \"curve\"            \"fk_accuracy\"     \n[33] \"long_passing\"     \"ball_control\"     \"movement\"         \"acceleration\"    \n[37] \"sprint_speed\"     \"agility\"          \"reactions\"        \"balance\"         \n[41] \"power\"            \"shot_power\"       \"jumping\"          \"stamina\"         \n[45] \"strength\"         \"long_shots\"       \"mentality\"        \"aggression\"      \n[49] \"interceptions\"    \"positioning\"      \"vision\"           \"penalties\"       \n[53] \"composure\"        \"defending\"        \"marking\"          \"standing_tackle\" \n[57] \"sliding_tackle\"   \"goalkeeping\"      \"gk_diving\"        \"gk_handling\"     \n[61] \"gk_kicking\"       \"gk_positioning\"   \"gk_reflexes\"      \"total_stats\"     \n[65] \"base_stats\"       \"w_f\"              \"sm\"               \"a_w\"             \n[69] \"d_w\"              \"ir\"               \"pac\"              \"sho\"             \n[73] \"pas\"              \"dri\"              \"def\"              \"phy\"             \n[77] \"hits\"            \n```\n:::\n:::\n\n\n\n\n#### Club\nThe `club` variable represent the current club in which the player have a contract with as of the year 2021.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nselect(edit_raw, club)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 18,979 × 1\n   club                         \n   <chr>                        \n 1 \"\\n\\n\\n\\nFC Barcelona\"       \n 2 \"\\n\\n\\n\\nJuventus\"           \n 3 \"\\n\\n\\n\\nAtlético Madrid\"    \n 4 \"\\n\\n\\n\\nManchester City\"    \n 5 \"\\n\\n\\n\\nParis Saint-Germain\"\n 6 \"\\n\\n\\n\\nFC Bayern München\"  \n 7 \"\\n\\n\\n\\nLiverpool\"          \n 8 \"\\n\\n\\n\\nLiverpool\"          \n 9 \"\\n\\n\\n\\nParis Saint-Germain\"\n10 \"\\n\\n\\n\\nFC Barcelona\"       \n# … with 18,969 more rows\n```\n:::\n:::\n\n\nIf you notice the column have some  \"\\\\n\" special character which is also called an escape sequence, it represents a new line character and is used to insert a line break in a string, we don't need this here so we will remove them. some other things you might have missed are:\n\n> There are some players without a current contract.\n\n> Some records contain non-English characters such as é, ü, ş.\n\nFirst, We will remove the \"\\\\n\" character then convert non-English characters or special characters into their closest English equivalents using the `stri_trans_general()` function from the stringi package, this process is called transliteration.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw <- edit_raw |>\n  mutate(club = str_remove_all(club, \"\\\\n\") |> stri_trans_general(\"Latin-ASCII\")) \n\nselect(edit_raw, club) |> head(5) |> gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"bsdvzcmemb\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#bsdvzcmemb .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#bsdvzcmemb .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#bsdvzcmemb .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#bsdvzcmemb .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#bsdvzcmemb .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bsdvzcmemb .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#bsdvzcmemb .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#bsdvzcmemb .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#bsdvzcmemb .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#bsdvzcmemb .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#bsdvzcmemb .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#bsdvzcmemb .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#bsdvzcmemb .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#bsdvzcmemb .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#bsdvzcmemb .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#bsdvzcmemb .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#bsdvzcmemb .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bsdvzcmemb .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#bsdvzcmemb .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#bsdvzcmemb .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bsdvzcmemb .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#bsdvzcmemb .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#bsdvzcmemb .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bsdvzcmemb .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bsdvzcmemb .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#bsdvzcmemb .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#bsdvzcmemb .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bsdvzcmemb .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#bsdvzcmemb .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bsdvzcmemb .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#bsdvzcmemb .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bsdvzcmemb .gt_left {\n  text-align: left;\n}\n\n#bsdvzcmemb .gt_center {\n  text-align: center;\n}\n\n#bsdvzcmemb .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#bsdvzcmemb .gt_font_normal {\n  font-weight: normal;\n}\n\n#bsdvzcmemb .gt_font_bold {\n  font-weight: bold;\n}\n\n#bsdvzcmemb .gt_font_italic {\n  font-style: italic;\n}\n\n#bsdvzcmemb .gt_super {\n  font-size: 65%;\n}\n\n#bsdvzcmemb .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#bsdvzcmemb .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#bsdvzcmemb .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#bsdvzcmemb .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#bsdvzcmemb .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#bsdvzcmemb .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#bsdvzcmemb .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">club</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">FC Barcelona</td></tr>\n    <tr><td class=\"gt_row gt_left\">Juventus</td></tr>\n    <tr><td class=\"gt_row gt_left\">Atletico Madrid</td></tr>\n    <tr><td class=\"gt_row gt_left\">Manchester City</td></tr>\n    <tr><td class=\"gt_row gt_left\">Paris Saint-Germain</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n###### Check\nIt is a good practice to check for any misrepresentation of the data after making some changes in them. So we will verify if there are `NA` values.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw |> filter(is.na(club)) |> select(club)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 1\n# … with 1 variable: club <chr>\n```\n:::\n:::\n\n\nGreat! no missing values, so all club names with special character have been transformed successfully.\n\n\n#### Contract\nThis column contains the information about the year in which the players contract with their current club started and the year the contract will or is supposed to end.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nselect(edit_raw, contract)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 18,979 × 1\n   contract   \n   <chr>      \n 1 2004 ~ 2021\n 2 2018 ~ 2022\n 3 2014 ~ 2023\n 4 2015 ~ 2023\n 5 2017 ~ 2022\n 6 2014 ~ 2023\n 7 2017 ~ 2023\n 8 2018 ~ 2024\n 9 2018 ~ 2022\n10 2014 ~ 2022\n# … with 18,969 more rows\n```\n:::\n:::\n\n\nIt is important that the two different information above should be in their respective column. This provide a clear and consistent record, there by making it easy to perform both simple and complex analysis using them.  \nTo restructure the contract variable, we need to separate each of the identified variable into a `start_year` and `end_year` column. Before we do that, here are some observations we should keep in mind:\n\n> Players with no current club are considered free agents and are with no contract start year and end year.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw |> filter(club == \"No Club\") |> select(club, contract)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 237 × 2\n   club    contract\n   <chr>   <chr>   \n 1 No Club Free    \n 2 No Club Free    \n 3 No Club Free    \n 4 No Club Free    \n 5 No Club Free    \n 6 No Club Free    \n 7 No Club Free    \n 8 No Club Free    \n 9 No Club Free    \n10 No Club Free    \n# … with 227 more rows\n```\n:::\n:::\n\n\n\n> Note that when a player is on loan, no contract start year was specified.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw |> \n  filter(str_detect(contract, \"Loan\")) |> \n  select(club, contract, loan_date_end)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1,013 × 3\n   club                contract             loan_date_end\n   <chr>               <chr>                <chr>        \n 1 Tottenham Hotspur   Jun 30, 2021 On Loan Jun 30, 2021 \n 2 Fulham              Jun 30, 2021 On Loan Jun 30, 2021 \n 3 Paris Saint-Germain Jun 30, 2021 On Loan Jun 30, 2021 \n 4 Napoli              Jun 30, 2021 On Loan Jun 30, 2021 \n 5 Atletico Madrid     Jun 30, 2021 On Loan Jun 30, 2021 \n 6 Bayer 04 Leverkusen Jun 30, 2021 On Loan Jun 30, 2021 \n 7 FC Porto            Jun 30, 2021 On Loan Jun 30, 2021 \n 8 Arsenal             Jun 30, 2021 On Loan Jun 30, 2021 \n 9 RB Leipzig          Jun 30, 2021 On Loan Jun 30, 2021 \n10 Sporting CP         Jun 30, 2021 On Loan Jun 30, 2021 \n# … with 1,003 more rows\n```\n:::\n:::\n\n\n\n> Also, all contract records do not have the same contract start year and end year in number, some are in both words and number dates, mostly for players on loan.\n\n\nThe contract start year and end year will be separated using a the tilde ~ character and the `separate()` function from tidyr package.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw <- edit_raw |>\n  separate(col = contract, \n           into = c(\"start_year\", \"end_year\"), \n           sep = \" ~ \",\n           extra = \"merge\",\n           remove = FALSE)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Expected 2 pieces. Missing pieces filled with `NA` in 1250 rows [206,\n249, 255, 290, 293, 303, 307, 333, 337, 370, 375, 376, 377, 378, 379, 380, 381,\n398, 406, 417, ...].\n```\n:::\n\n```{.r .cell-code}\nselect(edit_raw, contract, start_year, end_year) |> head(5) |> gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"hexzjcadel\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#hexzjcadel .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#hexzjcadel .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#hexzjcadel .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#hexzjcadel .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#hexzjcadel .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hexzjcadel .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#hexzjcadel .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#hexzjcadel .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#hexzjcadel .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#hexzjcadel .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#hexzjcadel .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#hexzjcadel .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#hexzjcadel .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#hexzjcadel .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#hexzjcadel .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#hexzjcadel .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#hexzjcadel .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hexzjcadel .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#hexzjcadel .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#hexzjcadel .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hexzjcadel .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#hexzjcadel .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#hexzjcadel .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hexzjcadel .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hexzjcadel .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#hexzjcadel .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#hexzjcadel .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hexzjcadel .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#hexzjcadel .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hexzjcadel .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#hexzjcadel .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hexzjcadel .gt_left {\n  text-align: left;\n}\n\n#hexzjcadel .gt_center {\n  text-align: center;\n}\n\n#hexzjcadel .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#hexzjcadel .gt_font_normal {\n  font-weight: normal;\n}\n\n#hexzjcadel .gt_font_bold {\n  font-weight: bold;\n}\n\n#hexzjcadel .gt_font_italic {\n  font-style: italic;\n}\n\n#hexzjcadel .gt_super {\n  font-size: 65%;\n}\n\n#hexzjcadel .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#hexzjcadel .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#hexzjcadel .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#hexzjcadel .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#hexzjcadel .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#hexzjcadel .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#hexzjcadel .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">contract</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">start_year</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">end_year</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">2004 ~ 2021</td>\n<td class=\"gt_row gt_right\">2004</td>\n<td class=\"gt_row gt_right\">2021</td></tr>\n    <tr><td class=\"gt_row gt_left\">2018 ~ 2022</td>\n<td class=\"gt_row gt_right\">2018</td>\n<td class=\"gt_row gt_right\">2022</td></tr>\n    <tr><td class=\"gt_row gt_left\">2014 ~ 2023</td>\n<td class=\"gt_row gt_right\">2014</td>\n<td class=\"gt_row gt_right\">2023</td></tr>\n    <tr><td class=\"gt_row gt_left\">2015 ~ 2023</td>\n<td class=\"gt_row gt_right\">2015</td>\n<td class=\"gt_row gt_right\">2023</td></tr>\n    <tr><td class=\"gt_row gt_left\">2017 ~ 2022</td>\n<td class=\"gt_row gt_right\">2017</td>\n<td class=\"gt_row gt_right\">2022</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nThere is a warning message which state that rows in which the expression \"~\" given to the `sep` argument can not be used to separate the values. let us view some of these rows.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw |>\n  select(club, contract, start_year, end_year) |>\n  slice(206, 249, 255, 290, 293, 303, 307, 333, 337, 370, 375, 376)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 12 × 4\n   club                contract             start_year           end_year\n   <chr>               <chr>                <chr>                <chr>   \n 1 Tottenham Hotspur   Jun 30, 2021 On Loan Jun 30, 2021 On Loan <NA>    \n 2 Fulham              Jun 30, 2021 On Loan Jun 30, 2021 On Loan <NA>    \n 3 Paris Saint-Germain Jun 30, 2021 On Loan Jun 30, 2021 On Loan <NA>    \n 4 No Club             Free                 Free                 <NA>    \n 5 No Club             Free                 Free                 <NA>    \n 6 Napoli              Jun 30, 2021 On Loan Jun 30, 2021 On Loan <NA>    \n 7 Atletico Madrid     Jun 30, 2021 On Loan Jun 30, 2021 On Loan <NA>    \n 8 Bayer 04 Leverkusen Jun 30, 2021 On Loan Jun 30, 2021 On Loan <NA>    \n 9 FC Porto            Jun 30, 2021 On Loan Jun 30, 2021 On Loan <NA>    \n10 No Club             Free                 Free                 <NA>    \n11 No Club             Free                 Free                 <NA>    \n12 No Club             Free                 Free                 <NA>    \n```\n:::\n:::\n\n\n\nIf you remember earlier when some observation of the contract column were put in place, some of the records have their date stated in words such as `Free` (majorly players with no club), dates in words and number of when the contract began (majorly for players on loan) instead of the start and end year, this is the reason why there are some missing values in the end year because the `separate()` function doesn't know how to separate such record. In order to solve this problem, another variable called `contract_type` will be created which will help in distinguishing between each type of contract allowing the start and end year the freedom of having just the numeric year data type.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw <- edit_raw |>\n  mutate(\n    # create a categorical variable for the type of contract.\n    contract_type = case_when(str_detect(start_year, \"Loan\") ~ \"Loan\",\n                              start_year == \"Free\" ~ \"Free\",\n                              TRUE ~ \"Permanent\"),\n    \n    # send all Loan end year from the contract start year to the end year.     \n    end_year = case_when(str_detect(start_year, \"Loan\") ~ str_extract(start_year, \"\\\\d{4}\"),\n                         TRUE ~ end_year),\n    \n    # convert all start_year records with `Free` and `Loan` to NA\n    start_year = case_when(contract == \"Free\" ~ NA_character_, \n                           str_detect(start_year, \"Loan\") ~ NA_character_,\n                           TRUE ~ start_year)\n  ) |>\n  # convert start and end year to a numeric data type.\n  mutate(across(c(start_year, end_year), as.integer))\n\nselect(edit_raw, club, contract_type, start_year, end_year) |> head(5) |> gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"oauzpthezg\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#oauzpthezg .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#oauzpthezg .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#oauzpthezg .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#oauzpthezg .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#oauzpthezg .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#oauzpthezg .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#oauzpthezg .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#oauzpthezg .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#oauzpthezg .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#oauzpthezg .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#oauzpthezg .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#oauzpthezg .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#oauzpthezg .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#oauzpthezg .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#oauzpthezg .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#oauzpthezg .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#oauzpthezg .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oauzpthezg .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#oauzpthezg .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#oauzpthezg .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oauzpthezg .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#oauzpthezg .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#oauzpthezg .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#oauzpthezg .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oauzpthezg .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#oauzpthezg .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#oauzpthezg .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#oauzpthezg .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#oauzpthezg .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oauzpthezg .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#oauzpthezg .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oauzpthezg .gt_left {\n  text-align: left;\n}\n\n#oauzpthezg .gt_center {\n  text-align: center;\n}\n\n#oauzpthezg .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#oauzpthezg .gt_font_normal {\n  font-weight: normal;\n}\n\n#oauzpthezg .gt_font_bold {\n  font-weight: bold;\n}\n\n#oauzpthezg .gt_font_italic {\n  font-style: italic;\n}\n\n#oauzpthezg .gt_super {\n  font-size: 65%;\n}\n\n#oauzpthezg .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#oauzpthezg .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#oauzpthezg .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#oauzpthezg .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#oauzpthezg .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#oauzpthezg .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#oauzpthezg .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">club</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">contract_type</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">start_year</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">end_year</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">FC Barcelona</td>\n<td class=\"gt_row gt_left\">Permanent</td>\n<td class=\"gt_row gt_right\">2004</td>\n<td class=\"gt_row gt_right\">2021</td></tr>\n    <tr><td class=\"gt_row gt_left\">Juventus</td>\n<td class=\"gt_row gt_left\">Permanent</td>\n<td class=\"gt_row gt_right\">2018</td>\n<td class=\"gt_row gt_right\">2022</td></tr>\n    <tr><td class=\"gt_row gt_left\">Atletico Madrid</td>\n<td class=\"gt_row gt_left\">Permanent</td>\n<td class=\"gt_row gt_right\">2014</td>\n<td class=\"gt_row gt_right\">2023</td></tr>\n    <tr><td class=\"gt_row gt_left\">Manchester City</td>\n<td class=\"gt_row gt_left\">Permanent</td>\n<td class=\"gt_row gt_right\">2015</td>\n<td class=\"gt_row gt_right\">2023</td></tr>\n    <tr><td class=\"gt_row gt_left\">Paris Saint-Germain</td>\n<td class=\"gt_row gt_left\">Permanent</td>\n<td class=\"gt_row gt_right\">2017</td>\n<td class=\"gt_row gt_right\">2022</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nThere you have it, the type of contract, the year the contract started and ended all on their own column which create a lot of flexibility when using the variables one at a time or all at the same time.\n\n##### check\nAgain we will perform some checks on the new columns created. first let us verify that all players with a permanent contract do not have missing records for the contract start and end year.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw |> \n  filter(contract_type == \"Permanent\" & is.na(start_year) & is.na(end_year)) |> \n  select(contract_type, start_year, end_year)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 3\n# … with 3 variables: contract_type <chr>, start_year <int>, end_year <int>\n```\n:::\n:::\n\n\nZero row returned great!\n\nNow let us do some checks on the start and end date, ideally the start date should be earlier that the end date.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw |>\n  mutate(check = start_year <= end_year) |>\n  # condition to return poor records with earlier end year than start year\n  filter(check == FALSE) |>\n  select(start_year, end_year, check)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 3\n# … with 3 variables: start_year <int>, end_year <int>, check <lgl>\n```\n:::\n:::\n\n\nGreat! zero row, what this means is that all contract start year comes before the end year.\n\n\n\n#### Joined national team date and loan contract expiration date.\nNext, some closely related variables to the one above, which includes the date each player `joined` their various national team and also the end date of a player loan contract, if the player was on a loan contract.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nselect(edit_raw, joined, loan_date_end) |> head(5)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 × 2\n  joined       loan_date_end\n  <chr>        <chr>        \n1 Jul 1, 2004  <NA>         \n2 Jul 10, 2018 <NA>         \n3 Jul 16, 2014 <NA>         \n4 Aug 30, 2015 <NA>         \n5 Aug 3, 2017  <NA>         \n```\n:::\n:::\n\n\nObservation:\n\n> The data type of the `joined` variable is character, given that it is supposed to represented as date variable, it will be converted from a character to a date data type.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw <- edit_raw |>\n  mutate(joined = mdy(joined),\n         loan_date_end = mdy(loan_date_end)) |>\n  rename(loan_end_date = loan_date_end, joined_national_team = joined)\n\nedit_raw |>\n  filter(contract_type == \"Loan\") |>\n  select(joined_national_team, loan_end_date) |> \n  head(5) |>\n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"lxpmenkhni\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#lxpmenkhni .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#lxpmenkhni .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#lxpmenkhni .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#lxpmenkhni .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#lxpmenkhni .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#lxpmenkhni .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#lxpmenkhni .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#lxpmenkhni .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#lxpmenkhni .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#lxpmenkhni .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#lxpmenkhni .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#lxpmenkhni .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#lxpmenkhni .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#lxpmenkhni .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#lxpmenkhni .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#lxpmenkhni .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#lxpmenkhni .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lxpmenkhni .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#lxpmenkhni .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#lxpmenkhni .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lxpmenkhni .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#lxpmenkhni .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#lxpmenkhni .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#lxpmenkhni .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lxpmenkhni .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#lxpmenkhni .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#lxpmenkhni .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#lxpmenkhni .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#lxpmenkhni .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lxpmenkhni .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#lxpmenkhni .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lxpmenkhni .gt_left {\n  text-align: left;\n}\n\n#lxpmenkhni .gt_center {\n  text-align: center;\n}\n\n#lxpmenkhni .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#lxpmenkhni .gt_font_normal {\n  font-weight: normal;\n}\n\n#lxpmenkhni .gt_font_bold {\n  font-weight: bold;\n}\n\n#lxpmenkhni .gt_font_italic {\n  font-style: italic;\n}\n\n#lxpmenkhni .gt_super {\n  font-size: 65%;\n}\n\n#lxpmenkhni .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#lxpmenkhni .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#lxpmenkhni .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#lxpmenkhni .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#lxpmenkhni .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#lxpmenkhni .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#lxpmenkhni .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">joined_national_team</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">loan_end_date</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_right\">2013-09-01</td>\n<td class=\"gt_row gt_right\">2021-06-30</td></tr>\n    <tr><td class=\"gt_row gt_right\">2010-07-01</td>\n<td class=\"gt_row gt_right\">2021-06-30</td></tr>\n    <tr><td class=\"gt_row gt_right\">2015-07-02</td>\n<td class=\"gt_row gt_right\">2021-06-30</td></tr>\n    <tr><td class=\"gt_row gt_right\">2019-07-01</td>\n<td class=\"gt_row gt_right\">2021-06-30</td></tr>\n    <tr><td class=\"gt_row gt_right\">2018-07-12</td>\n<td class=\"gt_row gt_right\">2021-06-30</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n\n###### Check\nNational team date column\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw |> filter(is.na(joined_national_team)) |> select(joined_national_team)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 1\n# … with 1 variable: joined_national_team <date>\n```\n:::\n:::\n\n\nVerify if loan end date have missing value when a player is on loan.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw |> \n  select(contract_type, loan_end_date, end_year) |>\n  filter(contract_type == \"Loan\" & is.na(loan_end_date))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 3\n# … with 3 variables: contract_type <chr>, loan_end_date <date>, end_year <int>\n```\n:::\n:::\n\n\nJust in case you didn't notice, the loan contract `end_year` is available in the `loan_end_date` column it will be helpful to compare both value for each player to check if there are inconsistencies.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw |> \n  \n  # get the year\n  mutate(loan_end_year = year(loan_end_date)) |>\n  \n  # return columns where the player is on loan and the contract end_year is not  \n  # the same as the year in the loan end date column\n  filter(contract_type == \"Loan\" & end_year != loan_end_year) |>\n  \n  select(contract_type, end_year, loan_end_year)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 3\n# … with 3 variables: contract_type <chr>, end_year <int>, loan_end_year <dbl>\n```\n:::\n:::\n\n\nNo missing value or misrepresented value detected.\n\n\n\n#### Value, wage and release clause.\nThe `value` variable represent the worth of each player as of the year 2021, the `wages` represent the amount players earn from their respective clubs, while the release clause which is also known as a buyout clause or a buyout option.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nselect(edit_raw, value, wage, release_clause) |> head()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 3\n  value   wage  release_clause\n  <chr>   <chr> <chr>         \n1 €103.5M €560K €138.4M       \n2 €63M    €220K €75.9M        \n3 €120M   €125K €159.4M       \n4 €129M   €370K €161M         \n5 €132M   €270K €166.5M       \n6 €111M   €240K €132M         \n```\n:::\n:::\n\n\nIf we take a closer look at them, these variables are supposed to have numeric data type, they also seem to have similar problem such as:\n\n> A euro sign at the beginning of the value.\n\n> Either a (K) representing value in thousands and (M) in millions.\n\n> The values are collated in a short format i.e 12K instead of 12000.\n\n> Character data type.\n\nTo change these variables to the right value and data type the above stated observations will need to be rectified accordingly. All character signs and letter will be dropped and values with K will be converted to thousands in numeric value and M to millions.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw <- edit_raw |>\n   mutate(\n     # selecting the columns (value, wage, release_clause) to iterate over.\n     across(c(value, wage, release_clause), function(col) {\n      # convert each variable value to their respective numerical value.\n      case_when(\n        str_detect(col, \"M\") ~ as.double(str_replace_all(col, \"(€|M)\", \"\")) * 1000000,\n        str_detect(col, \"K\") ~ as.double(str_replace_all(col, \"(€|K)\", \"\")) * 1000,\n        TRUE ~ as.double(str_replace(col, \"€\", \"\"))\n      )\n    })\n   )\n\nselect(edit_raw, value, wage, release_clause) |> head(5) |> gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"zoboqsawyx\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#zoboqsawyx .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#zoboqsawyx .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#zoboqsawyx .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#zoboqsawyx .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#zoboqsawyx .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zoboqsawyx .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#zoboqsawyx .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#zoboqsawyx .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#zoboqsawyx .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#zoboqsawyx .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#zoboqsawyx .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#zoboqsawyx .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#zoboqsawyx .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#zoboqsawyx .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#zoboqsawyx .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#zoboqsawyx .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#zoboqsawyx .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zoboqsawyx .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#zoboqsawyx .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#zoboqsawyx .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zoboqsawyx .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#zoboqsawyx .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#zoboqsawyx .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zoboqsawyx .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zoboqsawyx .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#zoboqsawyx .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#zoboqsawyx .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zoboqsawyx .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zoboqsawyx .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zoboqsawyx .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zoboqsawyx .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zoboqsawyx .gt_left {\n  text-align: left;\n}\n\n#zoboqsawyx .gt_center {\n  text-align: center;\n}\n\n#zoboqsawyx .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#zoboqsawyx .gt_font_normal {\n  font-weight: normal;\n}\n\n#zoboqsawyx .gt_font_bold {\n  font-weight: bold;\n}\n\n#zoboqsawyx .gt_font_italic {\n  font-style: italic;\n}\n\n#zoboqsawyx .gt_super {\n  font-size: 65%;\n}\n\n#zoboqsawyx .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#zoboqsawyx .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#zoboqsawyx .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#zoboqsawyx .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#zoboqsawyx .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#zoboqsawyx .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#zoboqsawyx .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">value</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">wage</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">release_clause</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_right\">103500000</td>\n<td class=\"gt_row gt_right\">560000</td>\n<td class=\"gt_row gt_right\">138400000</td></tr>\n    <tr><td class=\"gt_row gt_right\">63000000</td>\n<td class=\"gt_row gt_right\">220000</td>\n<td class=\"gt_row gt_right\">75900000</td></tr>\n    <tr><td class=\"gt_row gt_right\">120000000</td>\n<td class=\"gt_row gt_right\">125000</td>\n<td class=\"gt_row gt_right\">159400000</td></tr>\n    <tr><td class=\"gt_row gt_right\">129000000</td>\n<td class=\"gt_row gt_right\">370000</td>\n<td class=\"gt_row gt_right\">161000000</td></tr>\n    <tr><td class=\"gt_row gt_right\">132000000</td>\n<td class=\"gt_row gt_right\">270000</td>\n<td class=\"gt_row gt_right\">166500000</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n###### Check\nchecking for `NA` values.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfilter(edit_raw, is.na(value)) |> select(value)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 1\n# … with 1 variable: value <dbl>\n```\n:::\n\n```{.r .cell-code}\nfilter(edit_raw, is.na(wage)) |> select(wage)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 1\n# … with 1 variable: wage <dbl>\n```\n:::\n\n```{.r .cell-code}\nfilter(edit_raw, is.na(release_clause)) |> select(release_clause)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 1\n# … with 1 variable: release_clause <dbl>\n```\n:::\n:::\n\nWe have no `NA` values in all the columns.\n\n\n\n#### Height & weight\nThe height and weight gives the exact physical description of the players, they also have a few problem of their own so let us check them.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nselect(edit_raw, height, weight)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 18,979 × 2\n   height weight\n   <chr>  <chr> \n 1 170cm  72kg  \n 2 187cm  83kg  \n 3 188cm  87kg  \n 4 181cm  70kg  \n 5 175cm  68kg  \n 6 184cm  80kg  \n 7 175cm  71kg  \n 8 191cm  91kg  \n 9 178cm  73kg  \n10 187cm  85kg  \n# … with 18,969 more rows\n```\n:::\n\n```{.r .cell-code}\nedit_raw |> filter(str_detect(height, \"'\")) |> select(height)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 40 × 1\n   height  \n   <chr>   \n 1 \"6'2\\\"\" \n 2 \"6'3\\\"\" \n 3 \"6'5\\\"\" \n 4 \"5'11\\\"\"\n 5 \"6'4\\\"\" \n 6 \"6'1\\\"\" \n 7 \"6'0\\\"\" \n 8 \"6'1\\\"\" \n 9 \"5'11\\\"\"\n10 \"6'2\\\"\" \n# … with 30 more rows\n```\n:::\n:::\n\n\nStarting with the `height` variable, this was recorded in both centimeter (170cm) and in feet and inches which means that the value \"6'2\" represent 6 feet and 2 inches. Of course we cant leave it this way, so we will have to convert the height to an appropriate numeric measure.\nI will be using the centimeter as the unit of measurement for players height as it is the most commonly used metric system, it also have other added advantages over feet & inches such as ease of use, compatibility etc.   \n  \nTo clean up the height column the all records in feet will be converted to centimeters. To do that the rows in feet & inches will be converted to inches initially then converted to CM. If we want to convert 6'2 to cm then we can use the formula: (6 * 12 + 2) * 2.54  \nWhere:  \n\n> 12 inches = 1 foot, this means that any length measured in feet can be converted to inches by multiplying the number of feet by 12.   \n\n> 2.54 cm = 1 inch, so we can convert the height in inches to CM by multiplying the number of inches by 2.54\n\nFirst we will create a custom function that convert each record height to centimeter. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nconvert_to_cm <- function(str) {\n  \n  map(str, function(s) {\n      if (stringr::str_detect(s, \"'\")) {\n        feet_inches <- stringr::str_split(s, \"'\")[[1]]\n        \n        feet_inches[2] <- stringr::str_remove(feet_inches[2], \"\\\"\") \n\n        (as.numeric(feet_inches[1]) * 12 + as.numeric(feet_inches[2])) * 2.54\n        \n      } else {\n        s\n      }\n    }) |>\n     unlist()\n  \n}\n\nedit_raw <- edit_raw |>\n  mutate(height = convert_to_cm(height) |> str_remove(\"cm\") |> as.double()) |>\n  rename(height_cm = height)\n\nselect(edit_raw, height_cm) |> head(5) |> gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"xovacgferh\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#xovacgferh .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#xovacgferh .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xovacgferh .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#xovacgferh .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#xovacgferh .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xovacgferh .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xovacgferh .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#xovacgferh .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#xovacgferh .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#xovacgferh .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#xovacgferh .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#xovacgferh .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#xovacgferh .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#xovacgferh .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#xovacgferh .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#xovacgferh .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#xovacgferh .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xovacgferh .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#xovacgferh .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#xovacgferh .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xovacgferh .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#xovacgferh .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#xovacgferh .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xovacgferh .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xovacgferh .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#xovacgferh .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#xovacgferh .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xovacgferh .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xovacgferh .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xovacgferh .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xovacgferh .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xovacgferh .gt_left {\n  text-align: left;\n}\n\n#xovacgferh .gt_center {\n  text-align: center;\n}\n\n#xovacgferh .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#xovacgferh .gt_font_normal {\n  font-weight: normal;\n}\n\n#xovacgferh .gt_font_bold {\n  font-weight: bold;\n}\n\n#xovacgferh .gt_font_italic {\n  font-style: italic;\n}\n\n#xovacgferh .gt_super {\n  font-size: 65%;\n}\n\n#xovacgferh .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#xovacgferh .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#xovacgferh .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#xovacgferh .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#xovacgferh .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#xovacgferh .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#xovacgferh .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">height_cm</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_right\">170</td></tr>\n    <tr><td class=\"gt_row gt_right\">187</td></tr>\n    <tr><td class=\"gt_row gt_right\">188</td></tr>\n    <tr><td class=\"gt_row gt_right\">181</td></tr>\n    <tr><td class=\"gt_row gt_right\">175</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n##### Check\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfilter(edit_raw, is.na(height_cm)) |> select(height_cm)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 1\n# … with 1 variable: height_cm <dbl>\n```\n:::\n:::\n\n\n\nMoving to the `weight` variable, the column holds record of weight in both pounds(lbs) and kilograms(kg) to unify the unit of measurement, the weight will be converted to kg for the reason that kilograms is a more common unit of measurement for weight and provides a more precise and standardized measurement compared to lbs.  \nTo fix the weight variable, all records in lbs will be converted to kg using the formula:  \n\n> 1 lb = 0.45359237 kg. This means that to convert lbs to kg we will need to multiply the number of pounds by  0.45359237\n\nAgain we will create a custom function that help us convert the weights to kilograms.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nconvert_to_kg <- function(str) {\n  \n  map(str, function(s) {\n    if (stringr::str_detect(s, \"lbs\")) {\n      \n      lbs <- stringr::str_remove(s, \"lbs\") |> as.numeric()\n      \n      round(lbs * 0.45359237, 2)\n      \n    } else {\n      s\n    }\n  }) |>\n    unlist()\n}\n\nedit_raw <- edit_raw |>\n  mutate(weight = convert_to_kg(weight) |> str_remove(\"kg\") |> as.double()) |>\n  rename(weight_kg = weight)\n\nselect(edit_raw, weight_kg) |> head(5) |> gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"yeaxvapvfx\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#yeaxvapvfx .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#yeaxvapvfx .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#yeaxvapvfx .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#yeaxvapvfx .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#yeaxvapvfx .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yeaxvapvfx .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#yeaxvapvfx .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#yeaxvapvfx .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#yeaxvapvfx .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#yeaxvapvfx .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#yeaxvapvfx .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#yeaxvapvfx .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#yeaxvapvfx .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#yeaxvapvfx .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#yeaxvapvfx .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#yeaxvapvfx .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#yeaxvapvfx .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yeaxvapvfx .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#yeaxvapvfx .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#yeaxvapvfx .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yeaxvapvfx .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#yeaxvapvfx .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#yeaxvapvfx .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yeaxvapvfx .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yeaxvapvfx .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#yeaxvapvfx .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#yeaxvapvfx .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yeaxvapvfx .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#yeaxvapvfx .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yeaxvapvfx .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#yeaxvapvfx .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yeaxvapvfx .gt_left {\n  text-align: left;\n}\n\n#yeaxvapvfx .gt_center {\n  text-align: center;\n}\n\n#yeaxvapvfx .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#yeaxvapvfx .gt_font_normal {\n  font-weight: normal;\n}\n\n#yeaxvapvfx .gt_font_bold {\n  font-weight: bold;\n}\n\n#yeaxvapvfx .gt_font_italic {\n  font-style: italic;\n}\n\n#yeaxvapvfx .gt_super {\n  font-size: 65%;\n}\n\n#yeaxvapvfx .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#yeaxvapvfx .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#yeaxvapvfx .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#yeaxvapvfx .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#yeaxvapvfx .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#yeaxvapvfx .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#yeaxvapvfx .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">weight_kg</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_right\">72</td></tr>\n    <tr><td class=\"gt_row gt_right\">83</td></tr>\n    <tr><td class=\"gt_row gt_right\">87</td></tr>\n    <tr><td class=\"gt_row gt_right\">70</td></tr>\n    <tr><td class=\"gt_row gt_right\">68</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n###### checks\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfilter(edit_raw, is.na(weight_kg)) |> select(weight_kg)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 1\n# … with 1 variable: weight_kg <dbl>\n```\n:::\n:::\n\n\nGreat! the height values were correctly converted to centimeters without any error and the weight to numeric representation of the kilogram metric.\n\n\n\n#### Player name\n\n\n::: {.cell}\n\n```{.r .cell-code}\nselect(edit_raw, long_name, name)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 18,979 × 2\n   long_name                    name             \n   <chr>                        <chr>            \n 1 Lionel Messi                 L. Messi         \n 2 C. Ronaldo dos Santos Aveiro Cristiano Ronaldo\n 3 Jan Oblak                    J. Oblak         \n 4 Kevin De Bruyne              K. De Bruyne     \n 5 Neymar da Silva Santos Jr.   Neymar Jr        \n 6 Robert Lewandowski           R. Lewandowski   \n 7 Mohamed Salah                M. Salah         \n 8 Alisson Ramses Becker        Alisson          \n 9 Kylian Mbappé                K. Mbappé        \n10 Marc-André ter Stegen        M. ter Stegen    \n# … with 18,969 more rows\n```\n:::\n:::\n\n\nThe `long_name` and `name` variable contains non-English characters or special characters \nso we will use the `stri_trans_general()` function to convert special characters, this is to ensure that the data is in a consistent format that can be easily processed and analyzed.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw <- edit_raw |> \n  mutate(across(c(long_name, name), \\(n) stri_trans_general(n, \"Latin-ASCII\")))\n\nselect(edit_raw, long_name, name) |> head(5) |> gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"duokexmpjh\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#duokexmpjh .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#duokexmpjh .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#duokexmpjh .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#duokexmpjh .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#duokexmpjh .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#duokexmpjh .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#duokexmpjh .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#duokexmpjh .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#duokexmpjh .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#duokexmpjh .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#duokexmpjh .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#duokexmpjh .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#duokexmpjh .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#duokexmpjh .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#duokexmpjh .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#duokexmpjh .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#duokexmpjh .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#duokexmpjh .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#duokexmpjh .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#duokexmpjh .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#duokexmpjh .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#duokexmpjh .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#duokexmpjh .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#duokexmpjh .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#duokexmpjh .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#duokexmpjh .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#duokexmpjh .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#duokexmpjh .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#duokexmpjh .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#duokexmpjh .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#duokexmpjh .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#duokexmpjh .gt_left {\n  text-align: left;\n}\n\n#duokexmpjh .gt_center {\n  text-align: center;\n}\n\n#duokexmpjh .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#duokexmpjh .gt_font_normal {\n  font-weight: normal;\n}\n\n#duokexmpjh .gt_font_bold {\n  font-weight: bold;\n}\n\n#duokexmpjh .gt_font_italic {\n  font-style: italic;\n}\n\n#duokexmpjh .gt_super {\n  font-size: 65%;\n}\n\n#duokexmpjh .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#duokexmpjh .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#duokexmpjh .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#duokexmpjh .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#duokexmpjh .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#duokexmpjh .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#duokexmpjh .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">long_name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">name</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Lionel Messi</td>\n<td class=\"gt_row gt_left\">L. Messi</td></tr>\n    <tr><td class=\"gt_row gt_left\">C. Ronaldo dos Santos Aveiro</td>\n<td class=\"gt_row gt_left\">Cristiano Ronaldo</td></tr>\n    <tr><td class=\"gt_row gt_left\">Jan Oblak</td>\n<td class=\"gt_row gt_left\">J. Oblak</td></tr>\n    <tr><td class=\"gt_row gt_left\">Kevin De Bruyne</td>\n<td class=\"gt_row gt_left\">K. De Bruyne</td></tr>\n    <tr><td class=\"gt_row gt_left\">Neymar da Silva Santos Jr.</td>\n<td class=\"gt_row gt_left\">Neymar Jr</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nSome drawbacks that should be noted about transliteration is that, it can lead to loss of important information such as accent marks or diacritical symbols that can change the meaning or pronunciation of a name, it can also be cultural insensitivity. Overall, it is important to carefully consider the potential risks and benefits of removing special characters from people names when cleaning data.\n\n###### Checks\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfilter(edit_raw, is.na(long_name)) |> select(long_name)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 1\n# … with 1 variable: long_name <chr>\n```\n:::\n\n```{.r .cell-code}\nfilter(edit_raw, is.na(name)) |> select(name)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 1\n# … with 1 variable: name <chr>\n```\n:::\n:::\n\n\nNo `NA` which mean the conversion was successful for all records.\n\n\n\n#### Nationality\n\n\n::: {.cell}\n\n```{.r .cell-code}\nselect(edit_raw, nationality)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 18,979 × 1\n   nationality\n   <chr>      \n 1 Argentina  \n 2 Portugal   \n 3 Slovenia   \n 4 Belgium    \n 5 Brazil     \n 6 Poland     \n 7 Egypt      \n 8 Brazil     \n 9 France     \n10 Germany    \n# … with 18,969 more rows\n```\n:::\n:::\n\n\nThe country includes some non-english character which will be converted. also while aiming for consistency across all country names, the `&` ampersand symbol will be replaced with the letter 'and', also the Korea DPR will be updated to Korea DPRK where the 'DPRK' stands for 'Democratic People's Republic of Korea'.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw <- edit_raw |> \n  mutate(nationality = stri_trans_general(nationality, \"Latin-ASCII\"),\n         nationality = str_replace(nationality, \"&\", \"and\"),\n         nationality = if_else(nationality == \"Korea DPR\", \"Korea DPRK\", nationality))\n\nselect(edit_raw, nationality) |> head(5) |> gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"jumcxhfivd\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#jumcxhfivd .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#jumcxhfivd .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jumcxhfivd .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#jumcxhfivd .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#jumcxhfivd .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jumcxhfivd .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jumcxhfivd .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#jumcxhfivd .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#jumcxhfivd .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#jumcxhfivd .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#jumcxhfivd .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#jumcxhfivd .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#jumcxhfivd .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#jumcxhfivd .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#jumcxhfivd .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#jumcxhfivd .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#jumcxhfivd .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jumcxhfivd .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#jumcxhfivd .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#jumcxhfivd .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jumcxhfivd .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#jumcxhfivd .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#jumcxhfivd .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jumcxhfivd .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jumcxhfivd .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#jumcxhfivd .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#jumcxhfivd .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jumcxhfivd .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jumcxhfivd .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jumcxhfivd .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jumcxhfivd .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jumcxhfivd .gt_left {\n  text-align: left;\n}\n\n#jumcxhfivd .gt_center {\n  text-align: center;\n}\n\n#jumcxhfivd .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#jumcxhfivd .gt_font_normal {\n  font-weight: normal;\n}\n\n#jumcxhfivd .gt_font_bold {\n  font-weight: bold;\n}\n\n#jumcxhfivd .gt_font_italic {\n  font-style: italic;\n}\n\n#jumcxhfivd .gt_super {\n  font-size: 65%;\n}\n\n#jumcxhfivd .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#jumcxhfivd .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#jumcxhfivd .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#jumcxhfivd .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#jumcxhfivd .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#jumcxhfivd .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#jumcxhfivd .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">nationality</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Argentina</td></tr>\n    <tr><td class=\"gt_row gt_left\">Portugal</td></tr>\n    <tr><td class=\"gt_row gt_left\">Slovenia</td></tr>\n    <tr><td class=\"gt_row gt_left\">Belgium</td></tr>\n    <tr><td class=\"gt_row gt_left\">Brazil</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n###### Check\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfilter(edit_raw, is.na(nationality)) |> select(nationality)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 1\n# … with 1 variable: nationality <chr>\n```\n:::\n:::\n\n\n\n\n#### Player functionality rating. \nThe `w/f` column representing player's weak foot rating, `SM` which represent player's skill moves rating and finally `IR` representing the injury rating. these variables are all on a scale of 1-5. Which is to say that they must be a numeric variable with an minimum value of 1 and a maximum value of 5. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nselect(edit_raw, w_f, sm, ir)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 18,979 × 3\n   w_f   sm    ir   \n   <chr> <chr> <chr>\n 1 4 ★   4★    5 ★  \n 2 4 ★   5★    5 ★  \n 3 3 ★   1★    3 ★  \n 4 5 ★   4★    4 ★  \n 5 5 ★   5★    5 ★  \n 6 4 ★   4★    4 ★  \n 7 3 ★   4★    3 ★  \n 8 3 ★   1★    3 ★  \n 9 4 ★   5★    3 ★  \n10 4 ★   1★    3 ★  \n# … with 18,969 more rows\n```\n:::\n:::\n\n\nThese variables will be converted to a numeric data type by simply removing the star symbol and changing the data type to integer. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw <- edit_raw |>\n  # iterating over each column and extracting only the digit present in them.\n  mutate(across(c(w_f, sm, ir), \\(s) str_extract(s, \"[:digit:]\") |> as.integer())) |>\n  rename(weak_foot = w_f, skill_move = sm, injury_rating = ir)\n\nselect(edit_raw, weak_foot, skill_move, injury_rating) |> head(5)  |> gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"vhizvoeolm\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#vhizvoeolm .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#vhizvoeolm .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vhizvoeolm .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#vhizvoeolm .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#vhizvoeolm .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vhizvoeolm .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vhizvoeolm .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#vhizvoeolm .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#vhizvoeolm .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#vhizvoeolm .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#vhizvoeolm .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#vhizvoeolm .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vhizvoeolm .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vhizvoeolm .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#vhizvoeolm .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#vhizvoeolm .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#vhizvoeolm .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vhizvoeolm .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#vhizvoeolm .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#vhizvoeolm .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vhizvoeolm .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#vhizvoeolm .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#vhizvoeolm .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vhizvoeolm .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vhizvoeolm .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#vhizvoeolm .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#vhizvoeolm .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vhizvoeolm .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vhizvoeolm .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vhizvoeolm .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vhizvoeolm .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vhizvoeolm .gt_left {\n  text-align: left;\n}\n\n#vhizvoeolm .gt_center {\n  text-align: center;\n}\n\n#vhizvoeolm .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#vhizvoeolm .gt_font_normal {\n  font-weight: normal;\n}\n\n#vhizvoeolm .gt_font_bold {\n  font-weight: bold;\n}\n\n#vhizvoeolm .gt_font_italic {\n  font-style: italic;\n}\n\n#vhizvoeolm .gt_super {\n  font-size: 65%;\n}\n\n#vhizvoeolm .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#vhizvoeolm .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#vhizvoeolm .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#vhizvoeolm .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#vhizvoeolm .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#vhizvoeolm .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#vhizvoeolm .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">weak_foot</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">skill_move</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">injury_rating</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_right\">4</td>\n<td class=\"gt_row gt_right\">4</td>\n<td class=\"gt_row gt_right\">5</td></tr>\n    <tr><td class=\"gt_row gt_right\">4</td>\n<td class=\"gt_row gt_right\">5</td>\n<td class=\"gt_row gt_right\">5</td></tr>\n    <tr><td class=\"gt_row gt_right\">3</td>\n<td class=\"gt_row gt_right\">1</td>\n<td class=\"gt_row gt_right\">3</td></tr>\n    <tr><td class=\"gt_row gt_right\">5</td>\n<td class=\"gt_row gt_right\">4</td>\n<td class=\"gt_row gt_right\">4</td></tr>\n    <tr><td class=\"gt_row gt_right\">5</td>\n<td class=\"gt_row gt_right\">5</td>\n<td class=\"gt_row gt_right\">5</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n###### Check\nTo make sure every value in the three variables above are within 1 to 5 and there are no `NA` value, we will perform a descriptive summary on each of them.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw |> select(weak_foot, skill_move, injury_rating) |> summary()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   weak_foot       skill_move    injury_rating  \n Min.   :1.000   Min.   :1.000   Min.   :1.000  \n 1st Qu.:3.000   1st Qu.:2.000   1st Qu.:1.000  \n Median :3.000   Median :2.000   Median :1.000  \n Mean   :2.941   Mean   :2.365   Mean   :1.092  \n 3rd Qu.:3.000   3rd Qu.:3.000   3rd Qu.:1.000  \n Max.   :5.000   Max.   :5.000   Max.   :5.000  \n```\n:::\n:::\n\n\nLooking at the minimum (Min.) and maximum (Max.) values of each variable, none of them have values below 1 and above 5.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfilter(edit_raw, is.na(weak_foot)) |> select(weak_foot)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 1\n# … with 1 variable: weak_foot <int>\n```\n:::\n\n```{.r .cell-code}\nfilter(edit_raw, is.na(skill_move)) |> select(skill_move)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 1\n# … with 1 variable: skill_move <int>\n```\n:::\n\n```{.r .cell-code}\nfilter(edit_raw, is.na(injury_rating)) |> select(injury_rating)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 1\n# … with 1 variable: injury_rating <int>\n```\n:::\n:::\n\n\n\n\n#### Hit \n\n::: {.cell}\n\n```{.r .cell-code}\nselect(edit_raw, hits)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 18,979 × 1\n   hits \n   <chr>\n 1 771  \n 2 562  \n 3 150  \n 4 207  \n 5 595  \n 6 248  \n 7 246  \n 8 120  \n 9 1.6K \n10 130  \n# … with 18,969 more rows\n```\n:::\n:::\n\n\nA few problem can be picked out from the `hits` variable. \n\n\n> Some of the hits are up to 1000 which were formatted into 1K so converting them back to their original numeric representation will be done by multiplying any record with a `K` present in them by 1000.\n\n> There are missing values.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw <- edit_raw |>\n         # creating a numeric hits column\n  mutate(hit_num = str_replace(hits, \"K\", \"\") |> as.double(),\n         \n         # change all 1.1K to 1100 based on the condition that there is a K \n         # string in the record.\n         hits = case_when(str_detect(hits, \"K\") ~ as.character(hit_num * 1000),\n                          TRUE ~ hits ) |> as.double()) |>\n  # drop the hit_num column.\n  select(-hit_num) \n\n\nselect(edit_raw, hits) |> head(5) |> gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"oycjqjijbp\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#oycjqjijbp .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#oycjqjijbp .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#oycjqjijbp .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#oycjqjijbp .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#oycjqjijbp .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#oycjqjijbp .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#oycjqjijbp .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#oycjqjijbp .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#oycjqjijbp .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#oycjqjijbp .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#oycjqjijbp .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#oycjqjijbp .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#oycjqjijbp .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#oycjqjijbp .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#oycjqjijbp .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#oycjqjijbp .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#oycjqjijbp .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oycjqjijbp .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#oycjqjijbp .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#oycjqjijbp .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oycjqjijbp .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#oycjqjijbp .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#oycjqjijbp .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#oycjqjijbp .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oycjqjijbp .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#oycjqjijbp .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#oycjqjijbp .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#oycjqjijbp .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#oycjqjijbp .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oycjqjijbp .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#oycjqjijbp .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oycjqjijbp .gt_left {\n  text-align: left;\n}\n\n#oycjqjijbp .gt_center {\n  text-align: center;\n}\n\n#oycjqjijbp .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#oycjqjijbp .gt_font_normal {\n  font-weight: normal;\n}\n\n#oycjqjijbp .gt_font_bold {\n  font-weight: bold;\n}\n\n#oycjqjijbp .gt_font_italic {\n  font-style: italic;\n}\n\n#oycjqjijbp .gt_super {\n  font-size: 65%;\n}\n\n#oycjqjijbp .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#oycjqjijbp .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#oycjqjijbp .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#oycjqjijbp .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#oycjqjijbp .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#oycjqjijbp .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#oycjqjijbp .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">hits</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_right\">771</td></tr>\n    <tr><td class=\"gt_row gt_right\">562</td></tr>\n    <tr><td class=\"gt_row gt_right\">150</td></tr>\n    <tr><td class=\"gt_row gt_right\">207</td></tr>\n    <tr><td class=\"gt_row gt_right\">595</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n\n\n#### Player positions\n\nThe position variable represent all the position a player have played.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nselect(edit_raw, positions)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 18,979 × 1\n   positions \n   <chr>     \n 1 RW, ST, CF\n 2 ST, LW    \n 3 GK        \n 4 CAM, CM   \n 5 LW, CAM   \n 6 ST        \n 7 RW        \n 8 GK        \n 9 ST, LW, RW\n10 GK        \n# … with 18,969 more rows\n```\n:::\n:::\n\n\nLooking at the top 10 rows there are several positions merged into a single variable,\nthis violates the first normal form (1NF) in database normalization because each row in a column should contain a single value, not multiple values. To comply with 1NF, the multivalued `positions` variable will be moved into a separate table with a one-to-many relationship between the original FIFA-21 table and the new position table. Some of the major advantages of this technique are reduction of data redundancy, simplified data analysis process and enhanced data flexibility.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplayer_position <- edit_raw |> \n  select(id) |>\n  # join the separated positions to with the player id\n  bind_cols(\n    edit_raw$positions |>\n      str_split(\" \", simplify = TRUE) |>\n      as_tibble(.name_repair = \"universal\")\n  ) |>\n  # keep all position value in a single column. \n  pivot_longer(cols = `...2`:`...4`,    \n               names_to = \"num_position\", \n               values_to = \"position\") |>\n  # remove all empty rows\n  filter(position != \"\") |>\n  # remove all comma from the position string.\n  mutate(position = str_remove(position, \",\")) |>\n  # drop the num_position variable.\n  select(-num_position) \n```\n:::\n\n\n###### Check\nCheck for valid positions abbreviations\n\n::: {.cell}\n\n```{.r .cell-code}\nposition_dict <- c(\n  \"GK\" = \"Goalkeeper\",\n  \n  # Defenders ------------------------------>\n  \"CB\" = \"Central back\",\n  \"S\"  = \"Sweeper\", \n  \"FB\" = \"Full back\",\n  \"LB\" = \"Left back\",\n  \"RB\" = \"Right back\",\n  \"WB\" = \"Wing back\",\n  \"RWB\"= \"Right wing back\",\n  \"LWB\"= \"Left wing back\",\n  \n  # Midfielders ---------------------------->\n  \"CM\" = \"Central midfielder\",\n  \"DM\" = \"Defensive midfielder\",\n  \"AM\" = \"Attacking midfielder\",\n  \"CAM\"= \"Centeral attacking midfielder\",\n  \"CDM\"= \"Centeral Defensive midfielder\",\n  \"LM\" = \"Left midfielder\",\n  \"RM\" = \"Right midfielder\",\n  \"WM\" = \"Wide midfielder\",\n  \n  # Forward -------------------------------->\n  \"ST\" = \"Striker\",\n  \"SS\" = \"Second striker\",\n  \"CF\" = \"Center forward\",\n  \"W\"  = \"Winger\",\n  \"LW\" = \"Left winger\",\n  \"RW\" = \"Right winger\"\n)\n\n\npos <- player_position |> distinct(position) |> pull()\n\nall(pos %in% names(position_dict))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] TRUE\n```\n:::\n:::\n\n\n\n###### Join tables\nYou can combine the new position table with the main table using the `left_join()` function from the dplyr package, all you have to pass to the function is the position table and the player id.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw |> \n  left_join(player_position, by = \"id\") |>\n  select(id, long_name, position)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 30,493 × 3\n       id long_name                    position\n    <dbl> <chr>                        <chr>   \n 1 158023 Lionel Messi                 RW      \n 2 158023 Lionel Messi                 ST      \n 3 158023 Lionel Messi                 CF      \n 4  20801 C. Ronaldo dos Santos Aveiro ST      \n 5  20801 C. Ronaldo dos Santos Aveiro LW      \n 6 200389 Jan Oblak                    GK      \n 7 192985 Kevin De Bruyne              CAM     \n 8 192985 Kevin De Bruyne              CM      \n 9 190871 Neymar da Silva Santos Jr.   LW      \n10 190871 Neymar da Silva Santos Jr.   CAM     \n# … with 30,483 more rows\n```\n:::\n:::\n\n\n\n\n\n### Data validation\nThese columns seem to be in their perfect data type so just a little extra data validity check will be done on them.\n\n#### Age\nThe question we need to ask here is whether the age distribution is a representative of the overall football age distribution.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(edit_raw$age)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  16.00   21.00   25.00   25.19   29.00   53.00 \n```\n:::\n:::\n\n\nThe average is 25 compared to the average age from 2021 edition of the EA Sports FIFA which was around 27-28 years old.\n\n\n#### Variables measured in percentage.\nOVA: Players overall analysis or rate.  \nPOT: Players potential.  \nBOV: Best Overall in percentage.  \n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw |>\n  select(ova, pot, bov) |>\n  summarise(across(everything(), \n                   list(min = min, max = max), \n                   .names = \"{.col}_{.fn}\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 6\n  ova_min ova_max pot_min pot_max bov_min bov_max\n    <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>\n1      47      93      47      95      48      93\n```\n:::\n:::\n\n\nAll minimum value maximum values are within 0 to 100.\n\n\n#### Player rating\nThese includes variable such as attacking, crossing, dribbling, etc, they are all supposed to be numeric.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw |>\n  select(attacking:base_stats, pac:phy) |>\n  map_lgl(is.double) |> all()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] TRUE\n```\n:::\n:::\n\n\nChecking for missing values in any of the selected variable.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw |>\n  select(attacking:base_stats, pac:phy) |>\n  transmute(across(everything(), is.na)) |>\n  summarise(across(everything(), sum)) |>\n  pivot_longer(everything(), names_to = \"rating\", values_to = \"missing\") |>\n  filter(missing > 0)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 2\n# … with 2 variables: rating <chr>, missing <int>\n```\n:::\n:::\n\n\n\n#### Attacking & defensive work rate. \nThe rating of players in this segment should only include any of high, medium or low. Any other rating will be considered an incorrect record.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw |>\n  select(a_w, d_w) |> \n  names() |>\n  map(\\(i) edit_raw |> distinct(.data[[i]]))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[[1]]\n# A tibble: 3 × 1\n  a_w   \n  <chr> \n1 Medium\n2 High  \n3 Low   \n\n[[2]]\n# A tibble: 3 × 1\n  d_w   \n  <chr> \n1 Low   \n2 Medium\n3 High  \n```\n:::\n:::\n\n\n\n\n### Data quality check\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw |> select(where(is.numeric)) |> names()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"id\"               \"age\"              \"ova\"              \"pot\"             \n [5] \"start_year\"       \"end_year\"         \"height_cm\"        \"weight_kg\"       \n [9] \"bov\"              \"value\"            \"wage\"             \"release_clause\"  \n[13] \"attacking\"        \"crossing\"         \"finishing\"        \"heading_accuracy\"\n[17] \"short_passing\"    \"volleys\"          \"skill\"            \"dribbling\"       \n[21] \"curve\"            \"fk_accuracy\"      \"long_passing\"     \"ball_control\"    \n[25] \"movement\"         \"acceleration\"     \"sprint_speed\"     \"agility\"         \n[29] \"reactions\"        \"balance\"          \"power\"            \"shot_power\"      \n[33] \"jumping\"          \"stamina\"          \"strength\"         \"long_shots\"      \n[37] \"mentality\"        \"aggression\"       \"interceptions\"    \"positioning\"     \n[41] \"vision\"           \"penalties\"        \"composure\"        \"defending\"       \n[45] \"marking\"          \"standing_tackle\"  \"sliding_tackle\"   \"goalkeeping\"     \n[49] \"gk_diving\"        \"gk_handling\"      \"gk_kicking\"       \"gk_positioning\"  \n[53] \"gk_reflexes\"      \"total_stats\"      \"base_stats\"       \"weak_foot\"       \n[57] \"skill_move\"       \"injury_rating\"    \"pac\"              \"sho\"             \n[61] \"pas\"              \"dri\"              \"def\"              \"phy\"             \n[65] \"hits\"            \n```\n:::\n\n```{.r .cell-code}\nedit_raw |> select(where(is.character)) |> names()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"name\"           \"long_name\"      \"photo_url\"      \"player_url\"    \n [5] \"nationality\"    \"club\"           \"contract\"       \"positions\"     \n [9] \"preferred_foot\" \"best_position\"  \"a_w\"            \"d_w\"           \n[13] \"contract_type\" \n```\n:::\n\n```{.r .cell-code}\nedit_raw |> select(where(is.Date)) |> names()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"joined_national_team\" \"loan_end_date\"       \n```\n:::\n:::\n\n\n\n### Arranging the columns\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedit_raw <- edit_raw |>\n  select(\n    id, long_name, name, club, contract, contract_type, start_year, \n    end_year, loan_end_date, joined_national_team, value:release_clause, \n    nationality, age, weight_kg, height_cm, preferred_foot:best_position, ova, \n    pot, attacking:hits, positions, player_url, photo_url\n  )\n\nedit_raw |> head(5) |> gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"ftqqbmqpue\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#ftqqbmqpue .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ftqqbmqpue .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ftqqbmqpue .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ftqqbmqpue .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ftqqbmqpue .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ftqqbmqpue .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ftqqbmqpue .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ftqqbmqpue .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ftqqbmqpue .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ftqqbmqpue .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ftqqbmqpue .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ftqqbmqpue .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ftqqbmqpue .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ftqqbmqpue .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ftqqbmqpue .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ftqqbmqpue .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ftqqbmqpue .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ftqqbmqpue .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ftqqbmqpue .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ftqqbmqpue .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ftqqbmqpue .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ftqqbmqpue .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ftqqbmqpue .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ftqqbmqpue .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ftqqbmqpue .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ftqqbmqpue .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ftqqbmqpue .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ftqqbmqpue .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ftqqbmqpue .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ftqqbmqpue .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ftqqbmqpue .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ftqqbmqpue .gt_left {\n  text-align: left;\n}\n\n#ftqqbmqpue .gt_center {\n  text-align: center;\n}\n\n#ftqqbmqpue .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ftqqbmqpue .gt_font_normal {\n  font-weight: normal;\n}\n\n#ftqqbmqpue .gt_font_bold {\n  font-weight: bold;\n}\n\n#ftqqbmqpue .gt_font_italic {\n  font-style: italic;\n}\n\n#ftqqbmqpue .gt_super {\n  font-size: 65%;\n}\n\n#ftqqbmqpue .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#ftqqbmqpue .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ftqqbmqpue .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#ftqqbmqpue .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#ftqqbmqpue .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#ftqqbmqpue .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#ftqqbmqpue .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">id</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">long_name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">club</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">contract</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">contract_type</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">start_year</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">end_year</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">loan_end_date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">joined_national_team</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">value</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">wage</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">release_clause</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">nationality</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">age</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">weight_kg</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">height_cm</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">preferred_foot</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">bov</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">best_position</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">ova</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">pot</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">attacking</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">crossing</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">finishing</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">heading_accuracy</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">short_passing</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">volleys</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">skill</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">dribbling</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">curve</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">fk_accuracy</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">long_passing</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">ball_control</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">movement</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">acceleration</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">sprint_speed</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">agility</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">reactions</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">balance</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">power</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">shot_power</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">jumping</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">stamina</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">strength</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">long_shots</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">mentality</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">aggression</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">interceptions</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">positioning</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">vision</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">penalties</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">composure</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">defending</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">marking</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">standing_tackle</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">sliding_tackle</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">goalkeeping</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">gk_diving</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">gk_handling</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">gk_kicking</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">gk_positioning</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">gk_reflexes</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">total_stats</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">base_stats</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">weak_foot</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">skill_move</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">a_w</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">d_w</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">injury_rating</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">pac</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">sho</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">pas</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">dri</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">def</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">phy</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">hits</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">positions</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">player_url</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">photo_url</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_right\">158023</td>\n<td class=\"gt_row gt_left\">Lionel Messi</td>\n<td class=\"gt_row gt_left\">L. Messi</td>\n<td class=\"gt_row gt_left\">FC Barcelona</td>\n<td class=\"gt_row gt_left\">2004 ~ 2021</td>\n<td class=\"gt_row gt_left\">Permanent</td>\n<td class=\"gt_row gt_right\">2004</td>\n<td class=\"gt_row gt_right\">2021</td>\n<td class=\"gt_row gt_right\">NA</td>\n<td class=\"gt_row gt_right\">2004-07-01</td>\n<td class=\"gt_row gt_right\">103500000</td>\n<td class=\"gt_row gt_right\">560000</td>\n<td class=\"gt_row gt_right\">138400000</td>\n<td class=\"gt_row gt_left\">Argentina</td>\n<td class=\"gt_row gt_right\">33</td>\n<td class=\"gt_row gt_right\">72</td>\n<td class=\"gt_row gt_right\">170</td>\n<td class=\"gt_row gt_left\">Left</td>\n<td class=\"gt_row gt_right\">93</td>\n<td class=\"gt_row gt_left\">RW</td>\n<td class=\"gt_row gt_right\">93</td>\n<td class=\"gt_row gt_right\">93</td>\n<td class=\"gt_row gt_right\">429</td>\n<td class=\"gt_row gt_right\">85</td>\n<td class=\"gt_row gt_right\">95</td>\n<td class=\"gt_row gt_right\">70</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_right\">88</td>\n<td class=\"gt_row gt_right\">470</td>\n<td class=\"gt_row gt_right\">96</td>\n<td class=\"gt_row gt_right\">93</td>\n<td class=\"gt_row gt_right\">94</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_right\">96</td>\n<td class=\"gt_row gt_right\">451</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_right\">80</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_right\">94</td>\n<td class=\"gt_row gt_right\">95</td>\n<td class=\"gt_row gt_right\">389</td>\n<td class=\"gt_row gt_right\">86</td>\n<td class=\"gt_row gt_right\">68</td>\n<td class=\"gt_row gt_right\">72</td>\n<td class=\"gt_row gt_right\">69</td>\n<td class=\"gt_row gt_right\">94</td>\n<td class=\"gt_row gt_right\">347</td>\n<td class=\"gt_row gt_right\">44</td>\n<td class=\"gt_row gt_right\">40</td>\n<td class=\"gt_row gt_right\">93</td>\n<td class=\"gt_row gt_right\">95</td>\n<td class=\"gt_row gt_right\">75</td>\n<td class=\"gt_row gt_right\">96</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_right\">32</td>\n<td class=\"gt_row gt_right\">35</td>\n<td class=\"gt_row gt_right\">24</td>\n<td class=\"gt_row gt_right\">54</td>\n<td class=\"gt_row gt_right\">6</td>\n<td class=\"gt_row gt_right\">11</td>\n<td class=\"gt_row gt_right\">15</td>\n<td class=\"gt_row gt_right\">14</td>\n<td class=\"gt_row gt_right\">8</td>\n<td class=\"gt_row gt_right\">2231</td>\n<td class=\"gt_row gt_right\">466</td>\n<td class=\"gt_row gt_right\">4</td>\n<td class=\"gt_row gt_right\">4</td>\n<td class=\"gt_row gt_left\">Medium</td>\n<td class=\"gt_row gt_left\">Low</td>\n<td class=\"gt_row gt_right\">5</td>\n<td class=\"gt_row gt_right\">85</td>\n<td class=\"gt_row gt_right\">92</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_right\">95</td>\n<td class=\"gt_row gt_right\">38</td>\n<td class=\"gt_row gt_right\">65</td>\n<td class=\"gt_row gt_right\">771</td>\n<td class=\"gt_row gt_left\">RW, ST, CF</td>\n<td class=\"gt_row gt_left\">http://sofifa.com/player/158023/lionel-messi/210006/</td>\n<td class=\"gt_row gt_left\">https://cdn.sofifa.com/players/158/023/21_60.png</td></tr>\n    <tr><td class=\"gt_row gt_right\">20801</td>\n<td class=\"gt_row gt_left\">C. Ronaldo dos Santos Aveiro</td>\n<td class=\"gt_row gt_left\">Cristiano Ronaldo</td>\n<td class=\"gt_row gt_left\">Juventus</td>\n<td class=\"gt_row gt_left\">2018 ~ 2022</td>\n<td class=\"gt_row gt_left\">Permanent</td>\n<td class=\"gt_row gt_right\">2018</td>\n<td class=\"gt_row gt_right\">2022</td>\n<td class=\"gt_row gt_right\">NA</td>\n<td class=\"gt_row gt_right\">2018-07-10</td>\n<td class=\"gt_row gt_right\">63000000</td>\n<td class=\"gt_row gt_right\">220000</td>\n<td class=\"gt_row gt_right\">75900000</td>\n<td class=\"gt_row gt_left\">Portugal</td>\n<td class=\"gt_row gt_right\">35</td>\n<td class=\"gt_row gt_right\">83</td>\n<td class=\"gt_row gt_right\">187</td>\n<td class=\"gt_row gt_left\">Right</td>\n<td class=\"gt_row gt_right\">92</td>\n<td class=\"gt_row gt_left\">ST</td>\n<td class=\"gt_row gt_right\">92</td>\n<td class=\"gt_row gt_right\">92</td>\n<td class=\"gt_row gt_right\">437</td>\n<td class=\"gt_row gt_right\">84</td>\n<td class=\"gt_row gt_right\">95</td>\n<td class=\"gt_row gt_right\">90</td>\n<td class=\"gt_row gt_right\">82</td>\n<td class=\"gt_row gt_right\">86</td>\n<td class=\"gt_row gt_right\">414</td>\n<td class=\"gt_row gt_right\">88</td>\n<td class=\"gt_row gt_right\">81</td>\n<td class=\"gt_row gt_right\">76</td>\n<td class=\"gt_row gt_right\">77</td>\n<td class=\"gt_row gt_right\">92</td>\n<td class=\"gt_row gt_right\">431</td>\n<td class=\"gt_row gt_right\">87</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_right\">87</td>\n<td class=\"gt_row gt_right\">95</td>\n<td class=\"gt_row gt_right\">71</td>\n<td class=\"gt_row gt_right\">444</td>\n<td class=\"gt_row gt_right\">94</td>\n<td class=\"gt_row gt_right\">95</td>\n<td class=\"gt_row gt_right\">84</td>\n<td class=\"gt_row gt_right\">78</td>\n<td class=\"gt_row gt_right\">93</td>\n<td class=\"gt_row gt_right\">353</td>\n<td class=\"gt_row gt_right\">63</td>\n<td class=\"gt_row gt_right\">29</td>\n<td class=\"gt_row gt_right\">95</td>\n<td class=\"gt_row gt_right\">82</td>\n<td class=\"gt_row gt_right\">84</td>\n<td class=\"gt_row gt_right\">95</td>\n<td class=\"gt_row gt_right\">84</td>\n<td class=\"gt_row gt_right\">28</td>\n<td class=\"gt_row gt_right\">32</td>\n<td class=\"gt_row gt_right\">24</td>\n<td class=\"gt_row gt_right\">58</td>\n<td class=\"gt_row gt_right\">7</td>\n<td class=\"gt_row gt_right\">11</td>\n<td class=\"gt_row gt_right\">15</td>\n<td class=\"gt_row gt_right\">14</td>\n<td class=\"gt_row gt_right\">11</td>\n<td class=\"gt_row gt_right\">2221</td>\n<td class=\"gt_row gt_right\">464</td>\n<td class=\"gt_row gt_right\">4</td>\n<td class=\"gt_row gt_right\">5</td>\n<td class=\"gt_row gt_left\">High</td>\n<td class=\"gt_row gt_left\">Low</td>\n<td class=\"gt_row gt_right\">5</td>\n<td class=\"gt_row gt_right\">89</td>\n<td class=\"gt_row gt_right\">93</td>\n<td class=\"gt_row gt_right\">81</td>\n<td class=\"gt_row gt_right\">89</td>\n<td class=\"gt_row gt_right\">35</td>\n<td class=\"gt_row gt_right\">77</td>\n<td class=\"gt_row gt_right\">562</td>\n<td class=\"gt_row gt_left\">ST, LW</td>\n<td class=\"gt_row gt_left\">http://sofifa.com/player/20801/c-ronaldo-dos-santos-aveiro/210006/</td>\n<td class=\"gt_row gt_left\">https://cdn.sofifa.com/players/020/801/21_60.png</td></tr>\n    <tr><td class=\"gt_row gt_right\">200389</td>\n<td class=\"gt_row gt_left\">Jan Oblak</td>\n<td class=\"gt_row gt_left\">J. Oblak</td>\n<td class=\"gt_row gt_left\">Atletico Madrid</td>\n<td class=\"gt_row gt_left\">2014 ~ 2023</td>\n<td class=\"gt_row gt_left\">Permanent</td>\n<td class=\"gt_row gt_right\">2014</td>\n<td class=\"gt_row gt_right\">2023</td>\n<td class=\"gt_row gt_right\">NA</td>\n<td class=\"gt_row gt_right\">2014-07-16</td>\n<td class=\"gt_row gt_right\">120000000</td>\n<td class=\"gt_row gt_right\">125000</td>\n<td class=\"gt_row gt_right\">159400000</td>\n<td class=\"gt_row gt_left\">Slovenia</td>\n<td class=\"gt_row gt_right\">27</td>\n<td class=\"gt_row gt_right\">87</td>\n<td class=\"gt_row gt_right\">188</td>\n<td class=\"gt_row gt_left\">Right</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_left\">GK</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_right\">93</td>\n<td class=\"gt_row gt_right\">95</td>\n<td class=\"gt_row gt_right\">13</td>\n<td class=\"gt_row gt_right\">11</td>\n<td class=\"gt_row gt_right\">15</td>\n<td class=\"gt_row gt_right\">43</td>\n<td class=\"gt_row gt_right\">13</td>\n<td class=\"gt_row gt_right\">109</td>\n<td class=\"gt_row gt_right\">12</td>\n<td class=\"gt_row gt_right\">13</td>\n<td class=\"gt_row gt_right\">14</td>\n<td class=\"gt_row gt_right\">40</td>\n<td class=\"gt_row gt_right\">30</td>\n<td class=\"gt_row gt_right\">307</td>\n<td class=\"gt_row gt_right\">43</td>\n<td class=\"gt_row gt_right\">60</td>\n<td class=\"gt_row gt_right\">67</td>\n<td class=\"gt_row gt_right\">88</td>\n<td class=\"gt_row gt_right\">49</td>\n<td class=\"gt_row gt_right\">268</td>\n<td class=\"gt_row gt_right\">59</td>\n<td class=\"gt_row gt_right\">78</td>\n<td class=\"gt_row gt_right\">41</td>\n<td class=\"gt_row gt_right\">78</td>\n<td class=\"gt_row gt_right\">12</td>\n<td class=\"gt_row gt_right\">140</td>\n<td class=\"gt_row gt_right\">34</td>\n<td class=\"gt_row gt_right\">19</td>\n<td class=\"gt_row gt_right\">11</td>\n<td class=\"gt_row gt_right\">65</td>\n<td class=\"gt_row gt_right\">11</td>\n<td class=\"gt_row gt_right\">68</td>\n<td class=\"gt_row gt_right\">57</td>\n<td class=\"gt_row gt_right\">27</td>\n<td class=\"gt_row gt_right\">12</td>\n<td class=\"gt_row gt_right\">18</td>\n<td class=\"gt_row gt_right\">437</td>\n<td class=\"gt_row gt_right\">87</td>\n<td class=\"gt_row gt_right\">92</td>\n<td class=\"gt_row gt_right\">78</td>\n<td class=\"gt_row gt_right\">90</td>\n<td class=\"gt_row gt_right\">90</td>\n<td class=\"gt_row gt_right\">1413</td>\n<td class=\"gt_row gt_right\">489</td>\n<td class=\"gt_row gt_right\">3</td>\n<td class=\"gt_row gt_right\">1</td>\n<td class=\"gt_row gt_left\">Medium</td>\n<td class=\"gt_row gt_left\">Medium</td>\n<td class=\"gt_row gt_right\">3</td>\n<td class=\"gt_row gt_right\">87</td>\n<td class=\"gt_row gt_right\">92</td>\n<td class=\"gt_row gt_right\">78</td>\n<td class=\"gt_row gt_right\">90</td>\n<td class=\"gt_row gt_right\">52</td>\n<td class=\"gt_row gt_right\">90</td>\n<td class=\"gt_row gt_right\">150</td>\n<td class=\"gt_row gt_left\">GK</td>\n<td class=\"gt_row gt_left\">http://sofifa.com/player/200389/jan-oblak/210006/</td>\n<td class=\"gt_row gt_left\">https://cdn.sofifa.com/players/200/389/21_60.png</td></tr>\n    <tr><td class=\"gt_row gt_right\">192985</td>\n<td class=\"gt_row gt_left\">Kevin De Bruyne</td>\n<td class=\"gt_row gt_left\">K. De Bruyne</td>\n<td class=\"gt_row gt_left\">Manchester City</td>\n<td class=\"gt_row gt_left\">2015 ~ 2023</td>\n<td class=\"gt_row gt_left\">Permanent</td>\n<td class=\"gt_row gt_right\">2015</td>\n<td class=\"gt_row gt_right\">2023</td>\n<td class=\"gt_row gt_right\">NA</td>\n<td class=\"gt_row gt_right\">2015-08-30</td>\n<td class=\"gt_row gt_right\">129000000</td>\n<td class=\"gt_row gt_right\">370000</td>\n<td class=\"gt_row gt_right\">161000000</td>\n<td class=\"gt_row gt_left\">Belgium</td>\n<td class=\"gt_row gt_right\">29</td>\n<td class=\"gt_row gt_right\">70</td>\n<td class=\"gt_row gt_right\">181</td>\n<td class=\"gt_row gt_left\">Right</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_left\">CAM</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_right\">407</td>\n<td class=\"gt_row gt_right\">94</td>\n<td class=\"gt_row gt_right\">82</td>\n<td class=\"gt_row gt_right\">55</td>\n<td class=\"gt_row gt_right\">94</td>\n<td class=\"gt_row gt_right\">82</td>\n<td class=\"gt_row gt_right\">441</td>\n<td class=\"gt_row gt_right\">88</td>\n<td class=\"gt_row gt_right\">85</td>\n<td class=\"gt_row gt_right\">83</td>\n<td class=\"gt_row gt_right\">93</td>\n<td class=\"gt_row gt_right\">92</td>\n<td class=\"gt_row gt_right\">398</td>\n<td class=\"gt_row gt_right\">77</td>\n<td class=\"gt_row gt_right\">76</td>\n<td class=\"gt_row gt_right\">78</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_right\">76</td>\n<td class=\"gt_row gt_right\">408</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_right\">63</td>\n<td class=\"gt_row gt_right\">89</td>\n<td class=\"gt_row gt_right\">74</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_right\">408</td>\n<td class=\"gt_row gt_right\">76</td>\n<td class=\"gt_row gt_right\">66</td>\n<td class=\"gt_row gt_right\">88</td>\n<td class=\"gt_row gt_right\">94</td>\n<td class=\"gt_row gt_right\">84</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_right\">186</td>\n<td class=\"gt_row gt_right\">68</td>\n<td class=\"gt_row gt_right\">65</td>\n<td class=\"gt_row gt_right\">53</td>\n<td class=\"gt_row gt_right\">56</td>\n<td class=\"gt_row gt_right\">15</td>\n<td class=\"gt_row gt_right\">13</td>\n<td class=\"gt_row gt_right\">5</td>\n<td class=\"gt_row gt_right\">10</td>\n<td class=\"gt_row gt_right\">13</td>\n<td class=\"gt_row gt_right\">2304</td>\n<td class=\"gt_row gt_right\">485</td>\n<td class=\"gt_row gt_right\">5</td>\n<td class=\"gt_row gt_right\">4</td>\n<td class=\"gt_row gt_left\">High</td>\n<td class=\"gt_row gt_left\">High</td>\n<td class=\"gt_row gt_right\">4</td>\n<td class=\"gt_row gt_right\">76</td>\n<td class=\"gt_row gt_right\">86</td>\n<td class=\"gt_row gt_right\">93</td>\n<td class=\"gt_row gt_right\">88</td>\n<td class=\"gt_row gt_right\">64</td>\n<td class=\"gt_row gt_right\">78</td>\n<td class=\"gt_row gt_right\">207</td>\n<td class=\"gt_row gt_left\">CAM, CM</td>\n<td class=\"gt_row gt_left\">http://sofifa.com/player/192985/kevin-de-bruyne/210006/</td>\n<td class=\"gt_row gt_left\">https://cdn.sofifa.com/players/192/985/21_60.png</td></tr>\n    <tr><td class=\"gt_row gt_right\">190871</td>\n<td class=\"gt_row gt_left\">Neymar da Silva Santos Jr.</td>\n<td class=\"gt_row gt_left\">Neymar Jr</td>\n<td class=\"gt_row gt_left\">Paris Saint-Germain</td>\n<td class=\"gt_row gt_left\">2017 ~ 2022</td>\n<td class=\"gt_row gt_left\">Permanent</td>\n<td class=\"gt_row gt_right\">2017</td>\n<td class=\"gt_row gt_right\">2022</td>\n<td class=\"gt_row gt_right\">NA</td>\n<td class=\"gt_row gt_right\">2017-08-03</td>\n<td class=\"gt_row gt_right\">132000000</td>\n<td class=\"gt_row gt_right\">270000</td>\n<td class=\"gt_row gt_right\">166500000</td>\n<td class=\"gt_row gt_left\">Brazil</td>\n<td class=\"gt_row gt_right\">28</td>\n<td class=\"gt_row gt_right\">68</td>\n<td class=\"gt_row gt_right\">175</td>\n<td class=\"gt_row gt_left\">Right</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_left\">LW</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_right\">408</td>\n<td class=\"gt_row gt_right\">85</td>\n<td class=\"gt_row gt_right\">87</td>\n<td class=\"gt_row gt_right\">62</td>\n<td class=\"gt_row gt_right\">87</td>\n<td class=\"gt_row gt_right\">87</td>\n<td class=\"gt_row gt_right\">448</td>\n<td class=\"gt_row gt_right\">95</td>\n<td class=\"gt_row gt_right\">88</td>\n<td class=\"gt_row gt_right\">89</td>\n<td class=\"gt_row gt_right\">81</td>\n<td class=\"gt_row gt_right\">95</td>\n<td class=\"gt_row gt_right\">453</td>\n<td class=\"gt_row gt_right\">94</td>\n<td class=\"gt_row gt_right\">89</td>\n<td class=\"gt_row gt_right\">96</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_right\">83</td>\n<td class=\"gt_row gt_right\">357</td>\n<td class=\"gt_row gt_right\">80</td>\n<td class=\"gt_row gt_right\">62</td>\n<td class=\"gt_row gt_right\">81</td>\n<td class=\"gt_row gt_right\">50</td>\n<td class=\"gt_row gt_right\">84</td>\n<td class=\"gt_row gt_right\">356</td>\n<td class=\"gt_row gt_right\">51</td>\n<td class=\"gt_row gt_right\">36</td>\n<td class=\"gt_row gt_right\">87</td>\n<td class=\"gt_row gt_right\">90</td>\n<td class=\"gt_row gt_right\">92</td>\n<td class=\"gt_row gt_right\">93</td>\n<td class=\"gt_row gt_right\">94</td>\n<td class=\"gt_row gt_right\">35</td>\n<td class=\"gt_row gt_right\">30</td>\n<td class=\"gt_row gt_right\">29</td>\n<td class=\"gt_row gt_right\">59</td>\n<td class=\"gt_row gt_right\">9</td>\n<td class=\"gt_row gt_right\">9</td>\n<td class=\"gt_row gt_right\">15</td>\n<td class=\"gt_row gt_right\">15</td>\n<td class=\"gt_row gt_right\">11</td>\n<td class=\"gt_row gt_right\">2175</td>\n<td class=\"gt_row gt_right\">451</td>\n<td class=\"gt_row gt_right\">5</td>\n<td class=\"gt_row gt_right\">5</td>\n<td class=\"gt_row gt_left\">High</td>\n<td class=\"gt_row gt_left\">Medium</td>\n<td class=\"gt_row gt_right\">5</td>\n<td class=\"gt_row gt_right\">91</td>\n<td class=\"gt_row gt_right\">85</td>\n<td class=\"gt_row gt_right\">86</td>\n<td class=\"gt_row gt_right\">94</td>\n<td class=\"gt_row gt_right\">36</td>\n<td class=\"gt_row gt_right\">59</td>\n<td class=\"gt_row gt_right\">595</td>\n<td class=\"gt_row gt_left\">LW, CAM</td>\n<td class=\"gt_row gt_left\">http://sofifa.com/player/190871/neymar-da-silva-santos-jr/210006/</td>\n<td class=\"gt_row gt_left\">https://cdn.sofifa.com/players/190/871/21_60.png</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n\n\n### Saving data\nWe can now go ahead and save the clean data in the data directory we created at the start of the tutorial.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwrite_csv(fifa_21, \"data/fifa21_clean_data.csv\")\nwrite_csv(player_position, \"data/player_position.csv\")\n```\n:::\n\n\nYou can access the full code by clicking on this [link](https://github.com/akins11/Data-Analysis-Challenge/blob/main/posts/FIFA-21-data-cleaning/clean-data.R)\n\n\n## Summary\nNow that we have our cleaned data, Here is a brief highlight of the steps taken to clean the data.  \n* **Loading the data:** We imported the data set using the `read_csv()` function.  \n* **Column names:** All column name were converted to lower case with an underscore.  \n* **Variable cleaning:** Separated the contract variable, change the loan end date and start date of each player's national career to a date data type, remove additional characters from the height and weight column, converted players name and country to all english character, also removed symbols and escape characters from the ratings and hits column.  \n* **Position table:** Created a new table with each player id and field positions.  \n* **Data validation:** Validated all other variables for completeness and consistency.  \n* **Data quality check:** Verified all data types for each column.  \n* **Saving the data:** Saved both the cleaned data and the new position table in a .csv file.  \n   \n  \n   \n## Conclusion\nThe primary goal of data cleaning is to improve the quality and accuracy of the data so that it can be useful for analysis and decision-making. Data cleaning is also a critical step in the data analysis/science process and cannot be ignored or overlooked when working with data. With the data cleaned, we can proceed into data exploration, visualization, preprocessing, etc.",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}